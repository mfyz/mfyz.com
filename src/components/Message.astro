---
// Message.astro - Character message component (converted from React)

// Define character details
const characterDetails = {
  felix: {
    imageURL: "/characters/felix.jpg",
    name: "Felix",
  },
  bender: {
    imageURL: "/characters/bender.jpg",
    name: "Bender",
  },
};

// Get props from the component invocation
const {
  character = "felix",
  direction = "left",
  compact = false,
} = Astro.props;

// Get character info
const { imageURL, name } = characterDetails[character];
---

<div
  data-direction={direction}
  class={`flex w-full gap-2 data-[direction=right]:flex-row-reverse ${
    compact ? "mt-2 mb-2" : "mt-5 mb-5"
  }`}
>
  <img
    class="mt-8 size-12 flex-shrink-0 rounded-full bg-slate-300 object-cover"
    src={imageURL}
    alt={`${name} profile-pic`}
    height={50}
    width={50}
    loading="lazy"
  />

  <div>
    <p
      data-direction={direction}
      class="m-1 mb-0 text-sm text-gray-500 data-[direction=right]:text-right"
    >
      {name}
    </p>
    <div
      data-direction={direction}
      class="w-full max-w-2xl rounded-2xl bg-gray-400/20 p-6 shadow-lg shadow-gray-50 data-[direction=right]:bg-blue-400/20 [&>*]:!my-0"
    >
      <slot />
    </div>
  </div>
</div>
