---
const { post, isTurkish } = Astro.props;

// Get the post title and generate the full URL for sharing
const title = post.data.title;
const url = `https://mfyz.com/${post.slug}`;
const encodedTitle = encodeURIComponent(title);
const encodedUrl = encodeURIComponent(url);
const username = "mfyz";

// Generate sharing URLs
const twitterUrl = `https://x.com/intent/tweet?text=${encodedTitle}&url=${encodedUrl}&via=${username}`;
const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}`;
const facebookUrl = `https://www.facebook.com/sharer.php?t=${encodedTitle}&u=${encodedUrl}`;
const emailUrl = `mailto:?subject=${encodedTitle}&body=${encodedTitle}%0A${encodedUrl}`;
const blueskyUrl = `https://bsky.app/intent/compose?text=${encodedTitle}%0A${encodedUrl}`;
---

<div class="mt-16 border-b border-t border-gray-200 py-8">
  <div class="flex flex-col items-center">
    <h3 class="mb-4 font-secondary text-lg">
      {isTurkish ? "Payla≈ü" : "Share this post"}
    </h3>

    <div class="flex flex-wrap justify-center gap-3">
      <!-- Twitter/X -->
      <a
        href={twitterUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-black text-white transition-all hover:scale-105 hover:bg-gray-800"
        aria-label="Share on X/Twitter"
        title="Share on X/Twitter"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
          ></path>
        </svg>
      </a>

      <!-- Bluesky -->
      <a
        href={blueskyUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-blue-500 text-white transition-all hover:scale-105 hover:bg-blue-600"
        aria-label="Share on Bluesky"
        title="Share on Bluesky"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 600 530"
          fill="currentColor"
        >
          <path
            d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"
            fill="white"></path>
        </svg>
      </a>

      <!-- LinkedIn -->
      <a
        href={linkedinUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-blue-700 text-white transition-all hover:scale-105 hover:bg-blue-800"
        aria-label="Share on LinkedIn"
        title="Share on LinkedIn"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"
          ></path>
        </svg>
      </a>

      <!-- Facebook -->
      <a
        href={facebookUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-blue-600 text-white transition-all hover:scale-105 hover:bg-blue-700"
        aria-label="Share on Facebook"
        title="Share on Facebook"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"
          ></path>
        </svg>
      </a>

      <!-- Email -->
      <a
        href={emailUrl}
        rel="noopener noreferrer"
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-gray-600 text-white transition-all hover:scale-105 hover:bg-gray-700"
        aria-label="Share via Email"
        title="Share via Email"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"
          ></path>
        </svg>
      </a>
    </div>
  </div>
</div>
